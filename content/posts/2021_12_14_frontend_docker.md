---
author: 'ichi'
date: 2021-12-14
lastmod: 2021-12-17
linktitle: フロントエンド開発にDockerは必要か？
title: フロントエンド開発にDockerは必要か？
weight: 10
url: /posts/frontend_and_docker
tags: ['development', 'frontend', 'docker']
hideWordCount: true
hideReadingTime: true
draft: false
---

## はじめに

最近、<a class="border" href="https://lyrian-web.herokuapp.com/" target="_blank" rel="noopener noreferrer">Lyrian Web</a>という作詞ガチャアプリを作りました。

そのアプリではフロントエンド・バックエンド共にDockerを使って管理していたのですが、一通り開発してみて思ったことについて書き残しておこうと思います。

私個人としては、<u>個人のフロントエンド開発にDockerは不要</u>だと思っているのですが、Dockerを使って環境構築を行う方もおりますので、そうしたケースも踏まえつつお話していこうと思います。

## フロントエンド開発におけるDockerの利点

Dockerを導入するメリットの内、フロントエンド開発に関係するのは、

1. Docker上で、同じ開発・実行環境をどこでも作れる。
2. ローカルを汚さない。

の2つです。

### 1. Docker上で、同じ開発・実行環境をどこでも作れる

JavaScript自体はクロスプラットフォームですが、フロントエンド開発の周辺ツールには、OSやNode.jsのバージョンによって不具合が生じるものがまあまあ存在します。  
この問題に対してDockerは、

- 開発環境と本番環境の統一する。
- 他の開発者の開発環境の統一する。
- ホストOSとは異なるOSで開発する。

という解決策を提示してくれます。

まず1つ目についてですが、フロントエンドの最終成果物であるHTML/CSS/JSはクロスプラットフォームであり、本番環境 = ブラウザであるため、Dockerうんぬんとは関係のないお話になります。  
ただ、CI/CDを用いてテストやデプロイを行う場合、Dockerで管理していれば開発環境とCI/CD環境を統一できるので、その点ではメリットがあるような気がしなくもないです。  

<br>

次に2つ目について。これは集団開発であればメリットになる場合もありますが、<s>フロントエンド開発者の主要OSはMacなので、Dockerを使わずともOSは統一されている場合が多いです。</s>  
↓  
（2021/12/17 更新）OSにMacを用いていたとしても、CPUの違いによってNode.jsの環境構築が難航する場合があり、そうした手間を省くためにDockerを用いるケースがあるそうです。

一方、個人開発の場合は、そもそも他人の開発環境まで考える必要が基本ないので、この理由でDockerを導入するメリットはほぼありません。

<br>

最後に3つ目について。  
Dockerイメージで最終的に出来上がるのは、結局のところLinux環境なので、この話題に関連するのはWindowsとMacです。

まずWindowsですが、単純にLinux環境が欲しいだけなのであれば、DockerよりもWSLの方が導入コスト的にもパフォーマンス的にも良いので、まずはそちらを使いましょう。

次にMacについてですが、そもそもフロントエンド開発において、MacからLinux環境が必要になるケースが私には思いつかないので、この用途においてはMacにDockerは不要だと考えます。

### 2. ローカルを汚さない

簡単に作って壊せる仮想環境を用意して、ローカルを汚さないようにするというのは、Dockerのよくある使い方です。  
フロントエンド開発を頻繁に行わない人であれば、必要な時だけNode.jsを入れるといった使い方をするのはアリだと思います。

これと関連する話題として、複数バージョンのNode.jsを管理するためにDockerを用いる場合があるようです。  
Node.jsのバージョン管理で一番メジャーな方法はnvmだと思いますが、あちらはローカルを汚す & 稀にしか使わないバージョンの管理に困るといった難点もあるので、簡単に作って壊せる環境があるというのはメリットに感じます。

ただ、DockerはホストOSにLinux以外のものを用いた場合、IOが遅くなるという致命的な欠点が存在するので、それとどう付き合っていくのかがネックになりそうです。

## ここまでをまとめると

集団開発においては、Docker上でプラットフォームに依存しない共通の開発環境を構築できるというメリットはあるが、個人開発ではその必要がないため、Dockerを用いる必要はない。

ただし、

- CI/CDのために、
- M1 MacのようなNode.jsの環境構築が難しい場合に、
- ローカル環境を汚さないために、
- Node.jsのバージョン管理のために、

といった用途でDockerが用いられる場合がある。

## 私個人の意見

私は、<u>個人のフロントエンド開発については、Dockerは不要</u>だと考えています。というのも、Dockerを個人で用いても受けられる恩恵が少ないからです。

集団開発であれば、開発環境の統一というダイレクトなメリットが存在しますが、個人開発の場合、それ以外のメリットが小さかったり、あるいはDocker以外の手段で解決できたりします。

例えば、CI/CDをする場合は、その環境のOSとNode.jsのバージョンをローカルに揃えていれば基本動くはずなので、そのためにいきなりDockerを導入するのはだいぶ段階をすっ飛ばしています。

M1 MacとNode.jsについては、仮にそうした問題があったとしても、Node.jsを入れるのとDockerを入れるのとでは、Dockerの方が結局めんどくさくなると思うのは私だけでしょうか？

また、ローカルを汚さないというのはメリットではありますが、一方で仮想化によるオーバーヘッドを受け入れてまで得られるものがあるのかというと、必ずしもYesになるとは限りません。

間違いなく言えることは、個人開発のフロントエンドにおいて、Dockerがあったからといって劇的に開発効率が上がるとか、なかったからと言って致命的な問題が発生するといったことはありません。  
Dockerを触ることが無駄にはならないにせよ、他にもっと重要な項目があるのではないかと自問する必要はあると思います。
