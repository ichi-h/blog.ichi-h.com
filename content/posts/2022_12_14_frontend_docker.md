---
author: 'ichi'
date: 2021-12-14
lastmod: 2021-12-14
linktitle: フロントエンド開発にDockerは必要か？
title: フロントエンド開発にDockerは必要か？
weight: 10
url: /posts/frontend_and_docker
tags: ['development', 'frontend', 'docker']
hideWordCount: true
hideReadingTime: true
draft: false
---

## はじめに

最近、<a class="border" href="https://lyrian-web.herokuapp.com/" target="_blank" rel="noopener noreferrer">Lyrian Web</a>という作詞ガチャアプリを作りました。

そのアプリではフロントエンド・バックエンド共にDockerを使って管理していたのですが、一通り開発してみて思ったことについて書き残しておこうと思います。

## 結論

<span class="positive">基本不要</span>です。

## 理由

Dockerを導入するメリットの内、直接フロントエンド開発に関連するのは、

1. Docker上なら、同じ開発・実行環境をどこでも作れる。
2. 動作が軽く、コンパクト。
3. ローカルを汚さない

の3つです。

### 1. Docker上なら、同じ開発・実行環境をどこでも作れる

JavaScript自体はクロスプラットフォームですが、フロントエンド開発の周辺ツールには、OSやNode.jsのバージョンによって挙動の変わるものがまあまあ存在します。  
この問題に対してDockerは、

- 開発環境と本番環境の統一する。
- 他の開発者の開発環境の統一する。
- ホストOSとは異なるOSで開発する。

という解決策を提示してくれます。

まず1つ目についてですが、フロントエンドの最終成果物であるHTML/CSS/JSはクロスプラットフォームであり、ブラウザ上で動作するもののため、<b>Dockerうんぬんとは関係ありません。</b>

「CI/CDの実行環境も同じにするためにDockerは必要だ！」なんて意見を見かけましたが、その前にすべきことは<u>CI/CD環境のOSとNode.jsのバージョンを開発環境に合わせること</u>です。いきなりDockerを使うのは、だいぶ段階をすっ飛ばしています。

次に2つ目について。これは集団開発であればメリットになる場合もありますが、フロントエンド開発者の主要OSはMacなので、Dockerを使わずともOSは統一されている場合が多いです。  
一方、個人開発の場合は、そもそも他人の開発環境まで考える必要は基本ないので、Dockerを導入するメリットは薄いです。

Node.jsのバージョンを固定化するために使う、という方もおりましたが、それは<b>package.jsonのenginesで制限できる</b>ので、わざわざDockerを導入する必要はありません。

```json
"engines": {
  "node": "14.x"
}
```

最後に3つ目ですが、これは<b>Dockerを使わなくても解決できます。</b>  
Dockerイメージで最終的に出来上がるのは、結局のところLinux環境です（なのでホストOSが既にLinuxであれば、この話題は関係ありません）。  
ホストOSがWindowsで、単純にLinuxの環境が欲しいのであれば、DockerよりWSLの方がコスト的にもパフォーマンス的にも良いので、まずはそちらを使いましょう。  
ホストOSがMacの場合はDockerを使っても良いとは思いますが、そもそもフロントエンド開発において、MacからLinuxが必要となる用途が私には思いつきません。

### 3. ローカルを汚さない

簡単に作って壊せる仮想環境を用意して、ローカルを汚さないようにするというのは、Dockerのよくある使い方です。  
フロントエンド開発を頻繁に行わない人であれば、こうした使い方をするのはアリだと思います。

1つ注意点を挙げるとすれば、Dockerイメージやらビルドキャッシュは積み重なると結構容量を食うので、使わなくなったらこまめに削除するようにしましょう。<span class="supplement"><s>私はこれで30GBくらい消費していました。</s></span>

## まとめ

- 基本不要。
- ただし、ローカルを汚したくないとかの理由があればアリ。
